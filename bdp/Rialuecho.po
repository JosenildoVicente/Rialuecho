THEORY ProofList IS
_f(1) & _f(2) & _f(18) & _f(80) & WellDefinedness_relatorio_dia.2,(_f(126) & _f(96) => _f(128));
_f(1) & _f(2) & _f(18) & _f(80) & WellDefinedness_relatorio_dia.1,(_f(96) => _f(127));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.13,(_f(93) & _f(121) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.12,(_f(93) & _f(121) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.11,(_f(93) & _f(121) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.10,(_f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.9,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(96) => _f(125));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.8,(_f(66) & _f(67) & _f(68) & _f(93) & _f(121) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.7,(_f(66) & _f(67) & _f(68) & _f(93) & _f(121) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.6,(_f(66) & _f(67) & _f(68) & _f(93) & _f(121) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.5,(_f(66) & _f(67) & _f(68) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.4,(_f(66) & _f(67) & _f(93) & _f(121) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.3,(_f(66) & _f(67) & _f(93) & _f(121) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.2,(_f(66) & _f(67) & _f(93) & _f(121) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(64) & WellDefinedness_comprar.1,(_f(66) & _f(67) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_comprar.5,(_f(91) & _f(94) & _f(124) & _f(122) & _f(123) & _f(93) & _f(121) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_comprar.4,(_f(91) & _f(94) & _f(124) & _f(122) & _f(123) & _f(93) & _f(121) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_comprar.3,(_f(91) & _f(94) & _f(124) & _f(122) & _f(123) & _f(93) & _f(121) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_comprar.2,(_f(91) & _f(94) & _f(124) & _f(122) & _f(123) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_comprar.1,(_f(91) & _f(94) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(58) & WellDefinedness_remover_produto_do_carrinho.4,(_f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(58) & WellDefinedness_remover_produto_do_carrinho.3,(_f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(58) & WellDefinedness_remover_produto_do_carrinho.2,(_f(96) => _f(98));
_f(1) & _f(2) & _f(18) & _f(58) & WellDefinedness_remover_produto_do_carrinho.1,(_f(96) => _f(92));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.10,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(118) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.9,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(118) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.8,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(118) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.7,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(118) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.6,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(118) & _f(96) => _f(92));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.5,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.4,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.3,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.2,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(93) & _f(96) => _f(92));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto_do_carrinho.1,(_f(121) & _f(120) & _f(91) & _f(94) & _f(119) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.6,(_f(52) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.5,(_f(51) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.4,(_f(51) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.3,(_f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.2,(_f(96) => _f(98));
_f(1) & _f(2) & _f(18) & _f(49) & WellDefinedness_adicionar_produto_ao_carrinho.1,(_f(96) => _f(116));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_adicionar_produto_ao_carrinho.2,(_f(115) & _f(114) & _f(91) & _f(95) & _f(94) & _f(113) & _f(109) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_adicionar_produto_ao_carrinho.1,(_f(115) & _f(114) & _f(91) & _f(95) & _f(94) & _f(113) & _f(109) & _f(96) => _f(116));
_f(1) & _f(2) & _f(18) & _f(43) & WellDefinedness_remover_produto.3,(_f(96) => _f(98));
_f(1) & _f(2) & _f(18) & _f(43) & WellDefinedness_remover_produto.2,(_f(96) => _f(106));
_f(1) & _f(2) & _f(18) & _f(43) & WellDefinedness_remover_produto.1,(_f(96) => _f(105));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto.4,(_f(102) & _f(104) & _f(110) & _f(111) & _f(112) & _f(109) & _f(108) & _f(107) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto.3,(_f(102) & _f(104) & _f(110) & _f(111) & _f(112) & _f(109) & _f(108) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto.2,(_f(102) & _f(104) & _f(110) & _f(111) & _f(112) & _f(109) & _f(108) & _f(96) => _f(106));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_remover_produto.1,(_f(102) & _f(104) & _f(110) & _f(111) & _f(112) & _f(109) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & _f(30) & WellDefinedness_adicionar_produto.4,(_f(34) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & _f(30) & WellDefinedness_adicionar_produto.3,(_f(34) & _f(96) => _f(106));
_f(1) & _f(2) & _f(18) & _f(30) & WellDefinedness_adicionar_produto.2,(_f(34) & _f(96) => _f(105));
_f(1) & _f(2) & _f(18) & _f(30) & WellDefinedness_adicionar_produto.1,(_f(34) & _f(96) => _f(104));
_f(1) & _f(2) & _f(18) & _f(22) & WellDefinedness_dropar_carrinho.4,(_f(93) & _f(92) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & _f(22) & WellDefinedness_dropar_carrinho.3,(_f(93) & _f(92) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(22) & WellDefinedness_dropar_carrinho.2,(_f(93) & _f(92) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & _f(22) & WellDefinedness_dropar_carrinho.1,(_f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_dropar_carrinho.4,(_f(91) & _f(95) & _f(94) & _f(93) & _f(92) & _f(96) => _f(99));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_dropar_carrinho.3,(_f(91) & _f(95) & _f(94) & _f(93) & _f(92) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_dropar_carrinho.2,(_f(91) & _f(95) & _f(94) & _f(93) & _f(92) & _f(96) => _f(98));
_f(1) & _f(2) & _f(18) & WellDefinedness_Precondition_dropar_carrinho.1,(_f(91) & _f(95) & _f(94) & _f(96) => _f(97));
_f(1) & _f(2) & _f(18) & _f(80) & relatorio_dia.1,(_f(4) & _f(16) => _f(81));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.6,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(4) & _f(14) => _f(79));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.5,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(4) & _f(12) => _f(29));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.4,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(65) & _f(4) => _f(78));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.3,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(4) & _f(26) => _f(77));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.2,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(4) & _f(7) => _f(76));
_f(1) & _f(2) & _f(18) & _f(64) & comprar.1,(_f(66) & _f(67) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(74) & _f(75) & _f(4) & _f(5) => _f(24));
_f(1) & _f(2) & _f(18) & _f(58) & remover_produto_do_carrinho.4,(_f(4) & _f(12) => _f(63));
_f(1) & _f(2) & _f(18) & _f(58) & remover_produto_do_carrinho.3,(_f(59) & _f(4) => _f(62));
_f(1) & _f(2) & _f(18) & _f(58) & remover_produto_do_carrinho.2,(_f(4) & _f(26) => _f(61));
_f(1) & _f(2) & _f(18) & _f(58) & remover_produto_do_carrinho.1,(_f(4) & _f(9) => _f(60));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.8,(_f(52) & _f(4) & _f(12) => _f(57));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.7,(_f(52) & _f(50) & _f(4) => _f(55));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.6,(_f(52) & _f(4) & _f(26) => _f(54));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.5,(_f(52) & _f(4) & _f(9) => _f(53));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.4,(_f(51) & _f(4) & _f(12) => _f(56));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.3,(_f(51) & _f(50) & _f(4) => _f(55));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.2,(_f(51) & _f(4) & _f(26) => _f(54));
_f(1) & _f(2) & _f(18) & _f(49) & adicionar_produto_ao_carrinho.1,(_f(51) & _f(4) & _f(9) => _f(53));
_f(1) & _f(2) & _f(18) & _f(43) & remover_produto.4,(_f(44) & _f(4) => _f(48));
_f(1) & _f(2) & _f(18) & _f(43) & remover_produto.3,(_f(4) & _f(26) => _f(47));
_f(1) & _f(2) & _f(18) & _f(43) & remover_produto.2,(_f(4) & _f(9) => _f(46));
_f(1) & _f(2) & _f(18) & _f(43) & remover_produto.1,(_f(4) & _f(7) => _f(45));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.8,(_f(34) & _f(33) & _f(4) => _f(42));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.7,(_f(34) & _f(4) & _f(26) => _f(41));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.6,(_f(34) & _f(4) & _f(9) => _f(40));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.5,(_f(34) & _f(4) & _f(7) => _f(39));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.4,(_f(32) & _f(31) & _f(4) => _f(38));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.3,(_f(32) & _f(4) & _f(26) => _f(37));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.2,(_f(32) & _f(4) & _f(9) => _f(36));
_f(1) & _f(2) & _f(18) & _f(30) & adicionar_produto.1,(_f(32) & _f(4) & _f(7) => _f(35));
_f(1) & _f(2) & _f(18) & _f(22) & dropar_carrinho.5,(_f(4) & _f(12) => _f(29));
_f(1) & _f(2) & _f(18) & _f(22) & dropar_carrinho.4,(_f(23) & _f(4) => _f(28));
_f(1) & _f(2) & _f(18) & _f(22) & dropar_carrinho.3,(_f(4) & _f(26) => _f(27));
_f(1) & _f(2) & _f(18) & _f(22) & dropar_carrinho.2,(_f(4) & _f(9) => _f(25));
_f(1) & _f(2) & _f(18) & _f(22) & dropar_carrinho.1,(_f(4) & _f(5) => _f(24));
_f(1) & _f(2) & _f(18) & _f(19) & adicionar_carrinho.2,(_f(4) & _f(12) => _f(21));
_f(1) & _f(2) & _f(18) & _f(19) & adicionar_carrinho.1,(_f(4) & _f(5) => _f(20));
_f(1) & _f(2) & Initialisation.7,(_f(4) & _f(16) => _f(17));
_f(1) & _f(2) & Initialisation.6,(_f(4) & _f(14) => _f(15));
_f(1) & _f(2) & Initialisation.5,(_f(4) & _f(12) => _f(13));
_f(1) & _f(2) & Initialisation.4,(_f(3) & _f(4) => _f(11));
_f(1) & _f(2) & Initialisation.3,(_f(4) & _f(9) => _f(10));
_f(1) & _f(2) & Initialisation.2,(_f(4) & _f(7) => _f(8));
_f(1) & _f(2) & Initialisation.1,(_f(4) & _f(5) => _f(6))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..5)*{num_carrinho}): FIN(NATURAL*{num_carrinho}) & not(((1..5)*{num_carrinho}) = {}) & ((1..5)*{ids_produto}): FIN(NATURAL*{ids_produto}) & not(((1..5)*{ids_produto}) = {});
((pp) : (dom({})));
"Invariant is preserved";
"Check invariant ((carrinhos) : (FIN(num_carrinho)))";
(({}) : (FIN(((1..5)*{num_carrinho}))));
"Check invariant ((produts) : (((ids_produto) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))))";
(({}) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
"Check invariant ((produts_disponibilidade) : (((ids_produto) +-> (NAT))))";
(({}) : (((((1..5)*{ids_produto})) +-> (NAT))));
(({} )(pp) <= ((({} )(pp)) ' (qtd)));
"Check invariant ((produtos_por_carrinho) : (((carrinhos) +-> (((ids_produto) +-> (struct(qtd$8888 >> NAT)))))))";
(({}) : ((({}) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
"Check invariant ((historico_compra) : (seq(struct(id_prod$8888 >> ids_produto,qtd$8888 >> NAT,valor$8888 >> NAT))))";
(({}) : (seq(struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT))));
"Check invariant ((lucro_dia) : (FIN(NAT)))";
(({}) : (FIN(NAT)));
((carrinhos) : (FIN(((1..5)*{num_carrinho})))) & ((produts) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT))))) & ((produts_disponibilidade) : (((((1..5)*{ids_produto})) +-> (NAT)))) & ((dom(produts_disponibilidade)) = (dom(produts))) & !(pp).(((((pp) : (dom(produts_disponibilidade)))) => (((produts_disponibilidade )(pp) <= (((produts )(pp)) ' (qtd)))))) & ((produtos_por_carrinho) : (((carrinhos) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT))))))) & historico_compra : NATURAL-{0} +-> struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT) & ((historico_compra) : (seq(struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT)))) & ((lucro_dia) : (FIN(NAT)));
((xx) : (((1..5)*{num_carrinho}))) & not(xx : carrinhos);
((((carrinhos) \/ (({xx})))) : (FIN(((1..5)*{num_carrinho}))));
((((produtos_por_carrinho) \/ (({((xx) |-> ({}))})))) : (((((carrinhos) \/ (({xx})))) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
((xx) : (((1..5)*{num_carrinho}))) & ((xx) : (carrinhos)) & ((xx) : (dom(produtos_por_carrinho))) & ((SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts_disponibilidade))) & ((prod) = (((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))))))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((pp) : (dom(((produts_disponibilidade) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts_disponibilidade))) & ((prod) = (((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))))))))))))));
(((carrinhos - ({xx}))) : (FIN(((1..5)*{num_carrinho}))));
((((produts_disponibilidade) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts_disponibilidade))) & ((prod) = (((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))))))))) : (((((1..5)*{ids_produto})) +-> (NAT))));
"Check invariant ((dom(produts_disponibilidade)) = (dom(produts)))";
((dom(((produts_disponibilidade) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts_disponibilidade))) & ((prod) = (((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))))))))))))) = (dom(produts)));
((((produts_disponibilidade) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts_disponibilidade))) & ((prod) = (((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))))))))))) )(pp) <= (((produts )(pp)) ' (qtd)));
((((({xx})) <<| (produtos_por_carrinho))) : ((((carrinhos - ({xx}))) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
((produto) : (struct(qtd$8888 >> NAT,valor$8888 >> NAT))) & ((id_produto) : (((1..5)*{ids_produto}))) & (0 +1 <= ((produto) ' (qtd))) & (0 +1 <= ((produto) ' (valor))) & ((({((id_produto) |-> (((produto) ' (qtd))))})) : (((((1..5)*{ids_produto})) +-> (NAT))));
((pp) : (dom(((produts_disponibilidade) \/ (({((id_produto) |-> (((produto) ' (qtd))))}))))));
not(id_produto : dom(produts));
((pp) : (dom(((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) + ((produto) ' (qtd)))))}))))));
not(not(id_produto : dom(produts)));
((((produts) \/ (({((id_produto) |-> (produto))})))) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((((produts_disponibilidade) \/ (({((id_produto) |-> (((produto) ' (qtd))))})))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((dom(((produts_disponibilidade) \/ (({((id_produto) |-> (((produto) ' (qtd))))}))))) = (dom(((produts) \/ (({((id_produto) |-> (produto))}))))));
((((produts_disponibilidade) \/ (({((id_produto) |-> (((produto) ' (qtd))))}))) )(pp) <= (((((produts) \/ (({((id_produto) |-> (produto))}))) )(pp)) ' (qtd)));
((((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) + ((produto) ' (qtd))),valor$8888 >> ((produto) ' (valor)))))})))) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) + ((produto) ' (qtd)))))})))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((dom(((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) + ((produto) ' (qtd)))))}))))) = (dom(((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) + ((produto) ' (qtd))),valor$8888 >> ((produto) ' (valor)))))}))))));
((((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) + ((produto) ' (qtd)))))}))) )(pp) <= (((((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) + ((produto) ' (qtd))),valor$8888 >> ((produto) ' (valor)))))}))) )(pp)) ' (qtd)));
((id_produto) : (((1..5)*{ids_produto}))) & ((id_produto) : (dom(produts))) & qtd : INTEGER & 0 <= qtd & ((qtd) : (NATURAL)) & (0 +1 <= qtd) & (qtd <= (((produts )(id_produto)) ' (qtd))) & (qtd <= (produts_disponibilidade )(id_produto)) & ((({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) - qtd),valor$8888 >> (((produts )(id_produto)) ' (valor)))))})) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((pp) : (dom(((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) - qtd)))}))))));
((((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) - qtd),valor$8888 >> (((produts )(id_produto)) ' (valor)))))})))) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) - qtd)))})))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((dom(((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) - qtd)))}))))) = (dom(((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) - qtd),valor$8888 >> (((produts )(id_produto)) ' (valor)))))}))))));
((((produts_disponibilidade) <+ (({((id_produto) |-> (((produts_disponibilidade )(id_produto) - qtd)))}))) )(pp) <= (((((produts) <+ (({((id_produto) |-> (rec(qtd$8888 >> ((((produts )(id_produto)) ' (qtd)) - qtd),valor$8888 >> (((produts )(id_produto)) ' (valor)))))}))) )(pp)) ' (qtd)));
((nome) : (dom(produts))) & ((nome) : (((1..5)*{ids_produto}))) & ((xx) : (((1..5)*{num_carrinho}))) & ((xx) : (carrinhos)) & ((xx) : (dom(produtos_por_carrinho))) & ((qtd) : (NAT)) & (0 +1 <= qtd) & (qtd <= (produts_disponibilidade )(nome));
((pp) : (dom(((produts_disponibilidade) <+ (({((nome) |-> (((produts_disponibilidade )(nome) - qtd)))}))))));
((nome) : (dom((produtos_por_carrinho )(xx))));
not(((nome) : (dom((produtos_por_carrinho )(xx)))));
((((produts_disponibilidade) <+ (({((nome) |-> (((produts_disponibilidade )(nome) - qtd)))})))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((dom(((produts_disponibilidade) <+ (({((nome) |-> (((produts_disponibilidade )(nome) - qtd)))}))))) = (dom(produts)));
((((produts_disponibilidade) <+ (({((nome) |-> (((produts_disponibilidade )(nome) - qtd)))}))) )(pp) <= (((produts )(pp)) ' (qtd)));
((((produtos_por_carrinho) <+ (({((xx) |-> ((((produtos_por_carrinho )(xx)) <+ (({((nome) |-> (rec(qtd$8888 >> (((((produtos_por_carrinho )(xx) )(nome)) ' (qtd)) + qtd))))})))))})))) : (((carrinhos) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
((((produtos_por_carrinho) <+ (({((xx) |-> ((((produtos_por_carrinho )(xx)) \/ (({((nome) |-> (rec(qtd$8888 >> qtd)))})))))})))) : (((carrinhos) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
((id_prod) : (dom(produts))) & ((id_prod) : (((1..5)*{ids_produto}))) & ((xx) : (((1..5)*{num_carrinho}))) & ((xx) : (dom(produtos_por_carrinho))) & !(pc).(((((pc) : (dom((produtos_por_carrinho )(xx))))) => (((pc) = (id_prod))))) & ((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))})) : (((((1..5)*{ids_produto})) +-> (NAT)))) & (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))) <= (((produts )(id_prod)) ' (qtd)));
((pp) : (dom(((produts_disponibilidade) <+ (({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))}))))));
((((produts_disponibilidade) <+ (({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))})))) : (((((1..5)*{ids_produto})) +-> (NAT))));
((dom(((produts_disponibilidade) <+ (({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))}))))) = (dom(produts)));
((((produts_disponibilidade) <+ (({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))}))) )(pp) <= (((produts )(pp)) ' (qtd)));
((((produtos_por_carrinho) <+ (({((xx) |-> (((produtos_por_carrinho )(xx) - ({((id_prod) |-> (rec(qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))}))))})))) : (((carrinhos) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
((xx) : (((1..5)*{num_carrinho}))) & ((xx) : (dom(produtos_por_carrinho))) & not((produtos_por_carrinho )(xx) = {}) & historico_compra : NATURAL-{0} +-> ran(historico_compra) & ((historico_compra) : (seq(ran(historico_compra)))) & ((SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((prod) = (((id_prod) |-> (rec(qtd$8888 >> ((((produts )(id_prod)) ' (qtd)) - ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))),valor$8888 >> (((produts )(id_prod)) ' (valor)))))))))) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((pp) : (dom(produts_disponibilidade)));
aa : NATURAL-{0} +-> struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT);
((aa) : (seq(struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT))));
((SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor)))))))) : (FIN(SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor))))))))));
aa : seq(SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor))))))) );
aa : NATURAL-{0} +-> SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor)))))));
aa : iseq(SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor))))))));
not(aa = {});
aa ~ : SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor))))))) +-> NATURAL-{0};
ran( aa ) = SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor)))))));
((aa) : (perm(SET(compra).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((compra) = (rec(id_prod$8888 >> id_prod,qtd$8888 >> ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)),valor$8888 >> (((produts )(id_prod)) ' (valor))))))))));
((((produts) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((prod) = (((id_prod) |-> (rec(qtd$8888 >> ((((produts )(id_prod)) ' (qtd)) - ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))),valor$8888 >> (((produts )(id_prod)) ' (valor)))))))))))) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((dom(produts_disponibilidade)) = (dom(((produts) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((prod) = (((id_prod) |-> (rec(qtd$8888 >> ((((produts )(id_prod)) ' (qtd)) - ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))),valor$8888 >> (((produts )(id_prod)) ' (valor))))))))))))));
((produts_disponibilidade )(pp) <= (((((produts) <+ (SET(prod).(#(id_prod).(((id_prod) : (dom((produtos_por_carrinho )(xx)))) & ((id_prod) : (dom(produts))) & ((prod) = (((id_prod) |-> (rec(qtd$8888 >> ((((produts )(id_prod)) ' (qtd)) - ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd))),valor$8888 >> (((produts )(id_prod)) ' (valor))))))))))) )(pp)) ' (qtd)));
((((historico_compra) ^ (aa))) : (seq(struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT))));
btrue;
((({SIGMA(xx).(((xx) : (ran(historico_compra))) | ((((xx) ' (qtd)) * ((xx) ' (valor))) * card(((historico_compra) |> (({xx}))))))})) : (FIN(NAT)));
((((pp) : (dom(produts_disponibilidade)))) => (((pp) : (dom(produts_disponibilidade))) & ((produts_disponibilidade) : (((dom(produts_disponibilidade)) +-> (ran(produts_disponibilidade))))) & ((pp) : (dom(produts))) & ((produts) : (((dom(produts)) +-> (ran(produts)))))));
historico_compra : NATURAL-{0} +-> struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT);
((historico_compra) : (seq(struct(id_prod$8888 >> ((1..5)*{ids_produto}),qtd$8888 >> NAT,valor$8888 >> NAT))));
((produtos_por_carrinho) : (((carrinhos) +-> (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT)))))));
!(pp).(((((pp) : (dom(produts_disponibilidade)))) => (((produts_disponibilidade )(pp) <= (((produts )(pp)) ' (qtd))))));
((dom(produts_disponibilidade)) = (dom(produts)));
((produts_disponibilidade) : (((((1..5)*{ids_produto})) +-> (NAT))));
((produts) : (((((1..5)*{ids_produto})) +-> (struct(qtd$8888 >> NAT,valor$8888 >> NAT)))));
((carrinhos) : (FIN(((1..5)*{num_carrinho}))));
((xx) : (((1..5)*{num_carrinho})));
((id_prod) : (dom(produts_disponibilidade)));
((id_prod) : (dom((produtos_por_carrinho )(xx))));
((xx) : (dom(produtos_por_carrinho)));
((xx) : (carrinhos));
"Well definedness";
((produtos_por_carrinho) : (((dom(produtos_por_carrinho)) +-> (ran(produtos_por_carrinho)))));
((produts_disponibilidade) : (((dom(produts_disponibilidade)) +-> (ran(produts_disponibilidade)))));
(((produtos_por_carrinho )(xx)) : (((dom((produtos_por_carrinho )(xx))) +-> (ran((produtos_por_carrinho )(xx))))));
(0 +1 <= ((produto) ' (valor)));
(0 +1 <= ((produto) ' (qtd)));
((id_produto) : (((1..5)*{ids_produto})));
((produto) : (struct(qtd$8888 >> NAT,valor$8888 >> NAT)));
((id_produto) : (dom(produts)));
((produts) : (((dom(produts)) +-> (ran(produts)))));
((id_produto) : (dom(produts_disponibilidade)));
(qtd <= (produts_disponibilidade )(id_produto));
(qtd <= (((produts )(id_produto)) ' (qtd)));
(0 +1 <= qtd);
qtd : INTEGER;
0 <= qtd;
((qtd) : (NATURAL));
((qtd) : (NAT));
((nome) : (((1..5)*{ids_produto})));
((nome) : (dom(produts)));
((nome) : (dom(produts_disponibilidade)));
((((pc) : (dom((produtos_por_carrinho )(xx))))) => (btrue));
((({((id_prod) |-> (((produts_disponibilidade )(id_prod) + ((((produtos_por_carrinho )(xx) )(id_prod)) ' (qtd)))))})) : (((((1..5)*{ids_produto})) +-> (NAT))));
!(pc).(((((pc) : (dom((produtos_por_carrinho )(xx))))) => (((pc) = (id_prod)))));
((id_prod) : (((1..5)*{ids_produto})));
((id_prod) : (dom(produts)));
historico_compra : NATURAL-{0} +-> ran(historico_compra);
((historico_compra) : (seq(ran(historico_compra))));
not((produtos_por_carrinho )(xx) = {});
((aa) : (seq(ran(aa))));
((xx) : (ran(historico_compra)));
((SET(xx).(((xx) : (ran(historico_compra))))) : (FIN(SET(xx).(((xx) : (ran(historico_compra)))))));
((((historico_compra) |> (({xx})))) : (FIN(((historico_compra) |> (({xx}))))))
END
&
THEORY EnumerateX IS
ids_produto == {ids_produto0,ids_produto1,ids_produto2,ids_produto3,ids_produto4};
num_carrinho == {num_carrinho0,num_carrinho1,num_carrinho2,num_carrinho3,num_carrinho4}
END
